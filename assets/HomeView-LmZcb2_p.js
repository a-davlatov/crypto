import{g as T}from"./coins-DAGwENul.js";import{d as w,r as m,o as V,a as s,c as U,b as p,w as r,e as c,f as j,u as l,g as u,t as _,h as B,T as E,_ as A,S as F,i as v,A as M,j as D,L}from"./index-C6MU9puj.js";import{u as O}from"./useErrorImage-CZMx-GP2.js";import{u as z}from"./useUcFirst-BjGD1EYs.js";import{_ as H}from"./index-C-V1JtV1.js";import{_ as P}from"./CoinsNews.vue_vue_type_style_index_0_lang-Bi3p-vfz.js";import"./index-DstgX3ZX.js";import"./Paragraph-Cmui_Lsj.js";const R={class:"container"},W=["src","alt"],q=w({__name:"CoinsTable",setup(x){const h=m([]),g=m(1),d=m(100),f=m(1),y=m(!1),C=O(["js.jpg","antd.png","vue.jpg"]),I=[{title:"#",dataIndex:"Id",key:"Id",width:75,customRender:({index:e})=>(f.value-1)*d.value+(e+1)},{title:"Name",dataIndex:"name",key:"name",width:360,sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Price",dataIndex:"price",key:"price",sorter:(e,t)=>e.price-t.price},{title:"1h %",dataIndex:"priceChange1h",key:"priceChange1h",width:120,sorter:(e,t)=>e.priceChange1h-t.priceChange1h},{title:"24h %",dataIndex:"priceChange1d",key:"priceChange1d",width:120,sorter:(e,t)=>e.priceChange1d-t.priceChange1d},{title:"7d %",dataIndex:"priceChange1w",key:"priceChange1w",width:120,sorter:(e,t)=>e.priceChange1w-t.priceChange1w},{title:"Market Cap",dataIndex:"marketCap",key:"marketCap",sorter:(e,t)=>e.marketCap-t.marketCap},{title:"Volume(24h)",dataIndex:"volume",key:"volume",sorter:(e,t)=>e.volume-t.volume}],k=async(e,t)=>{try{y.value=!0;const{data:a}=await T({limit:t||100,page:e||1});h.value=a.result,g.value=a.meta.itemCount,t&&(d.value=t),e&&(f.value=e)}catch(a){throw a}finally{y.value=!1}};return V(()=>k()),(e,t)=>{const a=E,b=A,S=F,$=H;return s(),U("div",R,[p($,{sticky:"",pagination:{pageSize:d.value,total:g.value,showTotal:(o,n)=>`${n[0]}-${n[1]} of ${o} items`,onChange:(o,n)=>{k(o,n)}},columns:I,"data-source":h.value,loading:y.value,scroll:{x:"1270px"}},{bodyCell:r(({text:o,record:n,column:i})=>[i.key==="name"?(s(),c(b,{key:0,gap:"small",align:"center",horizontal:""},{default:r(()=>[j("img",{src:n.icon,alt:n.name,width:"24",height:"24",onError:t[0]||(t[0]=(...N)=>l(C)&&l(C)(...N))},null,40,W),p(a,{strong:""},{default:r(()=>[u(_(l(z)(n.name)),1)]),_:2},1024),p(a,{type:"secondary",strong:""},{default:r(()=>[u(_(n.symbol.slice(0,3).toUpperCase()),1)]),_:2},1024)]),_:2},1024)):i.key==="price"?(s(),c(a,{key:1,strong:""},{default:r(()=>[u(" $"+_(l(v)(o.toFixed(3))),1)]),_:2},1024)):i.key==="marketCap"||i.key==="volume"?(s(),c(a,{key:2,strong:""},{default:r(()=>[u(" $"+_(l(v)(o.toFixed(0))),1)]),_:2},1024)):i.key==="priceChange1h"||i.key==="priceChange1d"||i.key==="priceChange1w"?(s(),c(a,{key:3,strong:""},{default:r(()=>[p(S,{value:Math.abs(o),precision:2,suffix:"%","value-style":{color:o>0?"#3f8600":"#cf1322",fontSize:"16px"}},{prefix:r(()=>[o>0?(s(),c(l(M),{key:0})):(s(),c(l(D),{key:1}))]),_:2},1032,["value","value-style"])]),_:2},1024)):B("",!0)]),_:1},8,["pagination","data-source","loading"])])}}}),ae=w({__name:"HomeView",setup(x){return(h,g)=>{const d=L;return s(),c(d,null,{default:r(()=>[p(q),p(P,{page:1,limit:4})]),_:1})}}});export{ae as default};
